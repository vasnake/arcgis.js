<!DOCTYPE html>
<html lang="ru">
<!-- # -*- mode: html; coding: utf-8 -*- # (c) Valik mailto:vasnake@gmail.com -->
<!-- http://www.boottheme.com/#designpage -->
  <head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title>Справка по программе Минипортал</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta content="mp@allgis.org" name="author">
	<meta content="Описание программы Минипортал, ALGIS miniportal help" name="description">
	<link href="http://cgis.allgis.org/miniportal/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
	<link href="http://cgis.allgis.org/miniportal/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
<style>
@media (max-width: 1024px) {
    .affix {
        position: static;
    }
}
</style>
	<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Fav and touch icons -->
	<link rel="shortcut icon" href="/favicon.ico">
  </head>
  <body data-twttr-rendered="true">
	<div class="container-fluid">
	  <div class="row-fluid" >
		<div class="span3 bs-docs-sidebar" style="padding-top: 30px;">
			<ul class="well nav nav-list bs-docs-sidenav affix">
<li><a href="#"><i class="icon-home icon-grey"></i> Домой</a></li>
<li><a href=#id1>Аббревиатуры и сокращения</a></li>
<li><a href=#id10>Ограничения и особенности работы</a></li>
<li><a href=#id2>Описание интерфейса</a></li>
<li><a href=#id3>Инструмент "Содержание"</a></li>
<li><a href=#id4>Инструмент "Добавить"</a></li>
<li><a href=#id41>&nbsp;&nbsp; - Добавить слой из Интернета</a></li>
<li><a href=#id42>&nbsp;&nbsp; - Добавить слой из библиотеки слоев</a></li>
<li><a href=#id43>&nbsp;&nbsp; - Добавить слой с ГИС сервера</a></li>
<li><a href=#id5>Инструмент "Базовая карта"</a></li>
<li><a href=#id9>Инструмент "Ссылка"</a></li>
<li><a href=#id6>Инструмент "Печать"</a></li>
<li><a href=#id7>Инструмент "Измерить"</a></li>
<li><a href=#id8>Инструмент "Найти"</a></li>
			</ul>
		</div> <!-- div class="span2" -->
		<div class="span9" >
<h2>Справка по использованию программы "Минипортал" версии Бетта 1.0</h2>
<hr>
<h3><a name="id1"></a>Аббревиатуры и сокращения, принятые в документе</h3>
<p>ГИС – географическая информационная система, предназначенная для сбора, хранения, анализа и графической визуализации пространственных данных и связанной с ними информации.</p>
<p>ГИС-сервис - ресурс ГИС, такой как карта, глобус, локатор или подключение к базе геоданных, расположенный на сервере и доступный для клиентских приложений. </p>
<h3><a name="id10"></a>Ограничения и особенности работы</h3>
<p>
<ol>
<li>Асинхронная работа по отрисовке карты.</li>
Это означает, что программа может не дожидаться завершения процесса загрузки слоя ГИС-сервиса, а сразу позволять пользователю выполнять дейстия. Для облегчения понимания того, что программа производит асинхронные действия с картой служат "индикаторы загрузки". Например, логотип компании в нижнем правом углу (символ @ на зеленом фоне). Если тот логотип крутится, то карта получает данные в асинхронном режиме. Несмотря на то, что программа позволять пользователю выполнять действия рекомендуется дожидаться завершения загрузки карты.
<li>Печать карты занимает некоторое время</li>
Для подготовки изображения карты для печати информация о карте передается на сервер печати. Для облегчения того, что программа находится в процессе передачи-приема информации о печати служит индикатор загрузки описанный в предыдущем пункте.
<li>Информация о слоях создается после обновления карты</li>
В текущей реализации сначала загружается слой и прорисовывается на карте и только после этого происходит обновление панели "Содержание". Соответственно если вы используете большое количество слоев может наблюдается значительная задержка при отрисовке элементов легенды на панели "Содержание". Для облегчения понимания того, что легенда находится в процессе изменения служит анимация процесса обновления каждого элемента панели "Содержание" в виде бегущей строки в начале наименования слоя. Рекомендуется дожидаться завершения процесса обновление панели "Содержание" перед выполнением любых действий с программой. 
<li>Отображение атрибутивной информации при нажатии мышкой на карте</li>
В текущей реализации при нажатии мышкой на карте программа производи сбор и отображение атрибутивной информации в окрестностях указанной точке по всем слоям карты. Информация не собирается с объектов типа "Базовая карта" и при отсутвие у слоя метода "Quaery". Если атрибутивная информация не найдена то выводится сообщение "Нет слоев с данными" или "Нет данных". Если атрибутивная информация есть и запрос этой информации занимает некоторое время то выводится сообщение "Выполняется поиск...". После получения всех данных выдодится окно, которое позволяет просмотреть полученную атрибутивной информации обо всех объектах обнаруженных в окрестностях указанной точки. В связи с тем, что эти обекты выбираются по всем слоям карты, то количество и наименование полей может отличаться. В текущей реализации размеры окна зависят от количества и наименования полей.
В текущей реализации в один момент времени выполняется только один запрос на поиск атрибутивной информации. Очередь запросов не поддерживается. Т.е если Вы начали один запрос на поиск атрибутивной информации и не дождавшись результата закрыли окно вида "Выполняется поиск...", то при новом запросе Вы гарантированно увидите сообщение "Выполняется поиск..." на месте выполнения предыдущего запроса, если тот еще не закончен. Если предыдущий запрос был закончен, то при новом запросе Вы получите ожидаемое поведение программы, описанное выше.
<li>Статическая начальная страница</li>
В текущей реализации невозможно выполнять динамическую генерацию содержимого карты. Особенно явно это проявляется при выполнении загрузки карты из предварительно полученной ссылки. Сначала загружается начальная "пустая" страница программы, которая потом заменяется на содержимое взятое из сохраненной ссылки. 
<li>Использование внешних ГИС-сервисов</li>
При использовании внешних ГИС-сервисов Вы не можете ожидать того, что они будут работать всегда и так как нужно, так как они Вами не контролируются и Вы о них мало, что знаете. Поэтому Вы должны быть готовы к тому, что использование таких ресурсов при создании карты может привести к тому, что эти ресурсы в будущем не будут работать. А это может привести к неработоспособности всей карты.
<li>Поддержка сенсорных устройств</li>
В текущей реализации не поддерживаются инструменты требующие двойного нажатия. Например, не будет работать в инструменте "Измерить" измерение площадных объектов. Это связано с тем, что для получения результата измерения необходимо выполнить двойной клик по карте.
</ol>
</p>
<h3><a name="id2"></a>Описание интерфейса геоинформационной системы</h3>
<p>Геоинформационный программа минипортал обеспечивает графическое отображение электронной карты и пространственных данных и предоставляет пользователю набор инструментов для работы с ними.
Для запуска минипортала нужно воспользоваться любым их перечисленных браузеров :</p>
<ol>
<li>Mozila Firefox версии 23.0 и выше;</li>
<li>Google Chrome версии 29.0 и выше;</li>
<li>Internet Explorer версии 9.0 и выше;</li>
</ol>
<p>
Веб-интерфейс программы Минипортал служит инструментом визуализации информации получаемой посредством ГИС-сервисов.
Наиболее часто ГИС-сервисы предоставляют информацию об социально-значимых объектов в сочетании с топографической информацией и космическими снимками. 
Состав разделов и инструментов позволяет решать различные задачи для простых пользователей, так и задачи, являющиеся значимыми для разных органов управления в сфере
пожарной безопасности, жилищно-коммунальных услуг, ликвидации чрезвычайных ситуаций, транспортного контроля и безопасности дорожного движения и т.п.
ГИС-сервисы облегчают совместное использование ресурсов клиентами. Вы можете быть уверены, что каждый клиент получает одинаковое представление ресурса, при этом вы экономите ресурсы, так как они хранятся на сервере и клиентам не нужно устанавливать программное обеспечение ГИС. Вместо этого на сервере хранятся ресурсы, размещается сервис, и сервер выполняет ГИС-функции, отправляя клиенту результат в определенном формате, например, в виде изображений или текста.
</p>
<p>
Для удобства работы и ориентации на странице портала, и интерфейс поделен на боковую панель и инструменты, расположенные на верхней панели. 
</p>
<p><img alt="Рис. 1. Структура портала" title="Рис. 1. Структура портала" src="./miniportal_help_2.jpg"><br>
Рис. 1. Структура портала
</p>
<p>
Боковая панель предназначена для отображения Содержания карты и Добавления слоев на карту.<br>
Инструменты для работы с картой и информацией располагаются в верхней части окна минипортала.<br>
Для работы с инструментом, нажмите на кнопку необходимого инструмента. Кнопка поменяет цвет на светло-синий, что говорит об активности инструмента. После этого обычно открывается окно для работы с инструментом.
</p>
<h3><a name="id3"></a>Инструмент "Содержание"</h3>
<p>Позволяет просматривать информацию о содержимом карты и работать с ним. Обычно карта состоит из базовой карты и одного и более слоёв.
В данной панели слои и их подслои организованы в древовидную структуру, которая позволяет управлять их видимостью с помощью флажков-переключателей.</p>
<p>Свойствами слоя можно управлять с помощью контекстного меня слоя доступного при нажатии пиктограммы конфигурирования справа от слоя:
<ul>
<li>"Приблизить" - зуммировать карту к слою;</li>
<li>"Выше" - переставить слой уровнем выше;</li>
<li>"Ниже" - переставить слой уровнем ниже;</li>
<li>"Удалить" - удалить слой с карты;</li>
<li>"Описание" - открыть страницу описания слоя.</li>
</ul></p>
<p><img alt="Рис. 1. Структура портала" title="Рис. 1.5 Контекстное меню слоя" src="./miniportal_help_1_5.jpg"><br />Рис. 1.5 Контекстное меню слоя</p>
<h3><a name="id4"></a>Инструмент "Добавить"</h3>
<p>
Позволяет добавлять слои-ГИС-сервисы любым из указанных на рисунке способов.
</p>
<p><img alt="Рис. 2. Инструмент Добавить" title="Рис. 2. Инструмент Добавить" src="./miniportal_help_3.jpg"><br>
Рис. 2. Инструмент "Добавить".
</p>
<h4><a name="id41"></a>Добавить слой из Интернета</h4>
<p>
Этот пункт нужен для добавления на карту произвольный слой при помощи URL указывающий на этот слой.
При выборе этого пункта, вы увидите диалоговое окно, в котором нужно указать тип источника данных (на данный момент поддерживается только один — ArcGIS Server Web Service) и, самое главное, URL указывающий на слой данных.<br>
На данный момент вы можете использовать URL только одного вида: для MapService.<br>
Типичный URL для MapService выглядит так: http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer<br>
или так: http://sampleserver3.arcgisonline.com/ArcGIS/rest/services/Hurricanes/NOAA_Tracks_1851_2007/MapServer<br>
После ввода URL щелкните кнопку «Добавить слой» или нажмите кнопку «Enter» на клавиатуре. Программа обратится по указанному URL к ГИС-сервису и отобразит его на карте и и легенде.
</p>
<p><img alt="Рис. 2.1. Добавить слой из Интернета" title="Рис. 2.1. Добавить слой из Интернета" src="./miniportal_help_3_1.jpg"><br>
Рис. 2.1. Добавить слой из Интернета.
</p>
<h4><a name="id42"></a>Добавить слой из библиотеки слоев</h4>
<p>
Этот пункт нужен для добавления на карту слоя при помощи так называемой библиотеки слоев.<br>
При выборе этого пункта, вы увидите, что на боковой панели появился список слоев, зарегистрированных в библиотеке в виде изображений с подписями. Для того чтобы добавить любой из этих слоев к карте нужно щелкнув на изображении мышкой.<br>
Для удобства в верхней части боковой панели находится список выбора разделов библиотеки. С помощью этого списка вы можете фильтровать набор показываемых в библиотеке слоев.
</p>
<p><img alt="Рис. 2.2. Добавить слой из библиотеки слоев" title="Рис. 2.2. Добавить слой из библиотеки слоев" src="./miniportal_help_3_2.jpg"><br>
Рис. 2.2. Добавить слой из библиотеки слоев.
</p>
<h4><a name="id43"></a>Добавить слой с ГИС сервера</h4>
<p>
При выборе этого пункта меню, в боковой панели карты открывается список слоев, найденных на указанном сервере ArcGIS. Если вы еще не пользовались этим инструментом, список будет пуст. Чтобы заполнить его, необходимо указать URL сервера ArcGIS (только ArcGIS), например так:<br>
"maps.rosreestr.ru" без кавычек. <br>
После ввода URL, нажмите на клавиатуре кнопку Enter или щелкните мышкой кнопку в форме ввода. Программа начнет опрашивать указанный сервер, собирая сведения о всех картографических слоях на нем. Если слоев много и сервер медленный, ждать окончания построения списка придется долго.<br>
</p>
<p><img alt="Рис. 2.3. Добавить слой с ГИС сервера" title="Рис. 2.3. Добавить слой с ГИС сервера" src="./miniportal_help_3_3.jpg"><br>
Рис. 2.3. Добавить слой с ГИС сервера.
</p>
<p>
После построения списка вы увидите список с двумя рядами кнопок. В правой колонке находятся кнопки добавления выбранного слоя на карту, в левой колонке находятся кнопки, показывающие «карточку» слоя. При щелчке по такой кнопкке вы увидите всплывающее окошко с краткой информацией о слое.
</p>
<p><img alt="Рис. 2.4. Краткая информация о слое" title="Рис. 2.4. Краткая информация о слое" src="./miniportal_help_3_4.jpg"><br>
Рис. 2.4. Краткая информация о слое.
</p>
<p>
Существует ограничение для метода "Использовать как подложку". Слой, который вы хотите сделать подложкой Вашей карты должен иметь Spatial Reference = 102100 (3857).<br>
Так ли это Вы всегда можете узнать воспользовавшись инструментом "свойства службы".
</p>
<h3><a name="id5"></a>Инструмент "Базовая карта"</h3>
<p>
Предназначен для работы с Галереей базовых карт, которая содержит разнообразные варианты топографии, снимков и улиц. Сама по себе Базовая карта обеспечивает фон географического контекста для содержания, которое вам необходимо отобразить на карте.
При наличие сообщения "Map data not yet avalible" можно сделать печальный вывод, что выбранная Базовая карта не подходит для выбранного Вами места и(или) масштаба.
</p>
<p><img alt="Рис. 3. Инструмент Базовая карта" title="Рис. 3. Инструмент Базовая карта" src="./miniportal_help_4.jpg"><br>
Рис. 3. Инструмент "Базовая карта".
</p>

<h3><a name="id9"></a>Инструмент "Ссылка"</h3>
<p>
Предназначена для подготовки ссылки на текущее состояние карты, включающие в себя порядок используемых слоев и текущий масштаб. Полученная ссылка предоставляет возможность делиться ссылками на карты с другими пользователями. <br>
По нажатию на кнопку "Ссылка" происходит сохранение текущего состояния карты. Параметры карты, такие как координаты кадра (extent), перечень слоев и пр. записываются в файл, который передается на сервер. Файлу присваивается идентификатор вида «5E1DA84E03C077038DBF80CC56AC7364C2E96280», используя который можно впоследствии обращаться к сохраненным данным. Для этого достаточно скопировать ссылку из окна сообщения после успешного сохранения карты. <br>
Эта ссылка, при переходе по ней в браузере, приведет к загрузке сохраненной карты.
</p>
<p><img alt="Рис. 9. Инструмент Ссылка" title="Рис. 9. Инструмент Ссылка" src="./miniportal_help_9.jpg"><br>
Рис. 9. Инструмент "Ссылка".
</p>

<h3><a name="id6"></a>Инструмент "Печать"</h3>
<p>
Предназначена для подготовки текущего содержимого карты для печати. Для этой цели формируется изображение или PDF, которые открываются в новом окне браузера. В связи с этим при первой попытке печати может выводится сообщение о разрешении всплывающих окон для сервера cgis.allgis.org. После разрешения открывает новое окно.
Выпадающее меню, изображенное на рисунке позволяет управлять предустановленными форматами и ориентацией изображения или PDF.
</p>
<p><img alt="Рис. 4. Инструмент Печать" title="Рис. 4. Инструмент Печать" src="./miniportal_help_5.jpg"><br>
Рис. 4. Инструмент "Печать".
</p>
<h3><a name="id7"></a>Инструмент "Измерить"</h3>
<p>
Инструмент позволяет проводить измерения расстояния между объектами, площади указанной области, расстояние между точками для произвольных линий и для определения координат.
Для того чтобы начать работу нужно нажать на пиктограмму измерения. Она должна быть выделена-активна. После этого можно изменить единицы измерения, которые доступны в том же окне правее пиктограммы. Результаты измерения будут отображены в соответствующем месте.
<ul>
<li>Для измерения Площади нарисуйте на карте полигон, и инструмент посчитает площадь в единицах, которые вы указали. Для завершения необходимо выполнить двойной клик мышкой.</li>
<li>Для измерения Расстояния нарисуйте ломаную линию, и инструмент покажет расстояния между первой и последней точкой в единицах, которые вы указали. Для завершения необходимо выполнить двойной клик мышкой.</li>
<li>Для определения Местоположения оставьте точку в том месте, где хотите получить информацию по координатам.</li>
</ul>
</p>
<p><img alt="Рис. 5. Инструмент Измерить" title="Рис. 5. Инструмент Измерить" src="./miniportal_help_6.jpg"><br>
Рис. 5. Инструмент "Измерить".
</p>
<h3><a name="id8"></a>Инструмент "Найти адрес или место"</h3>
<p>
Поиск объектов осуществляется по данным ГИС-сервиса Росреестра (Геокодинг), и если этот сервис загружен запросами, то подготовка результатов Вашего поиска может занимать некоторое время.<br>
С помощью строки поиска можно найти точку на карте по адресу. Для реализации функции в строку поиска введите адрес (до уровня населенного пункта, например, например "Орел" без кавычек).<br>
В Панели результатов поиска будет отображен список всех адресов, соответствующих запросу. <br>
Кроме этого можно осуществлять поиск по координатам. При вводе в строку поиска "36.090, 52.969" без кавычек, Вы найдете город Орел и Центр карты переместится в указанную точку.
</p>
<p><img alt="Рис. 6. Инструмент Найти адрес или место" title="Рис. 6. Инструмент Найти адрес или место" src="./miniportal_help_7.jpg"><br>
Рис. 6. Инструмент "Найти адрес или место".
</p>
		</div> <!-- div class="span9" -->
	  </div> <!-- div class="row-fluid" -->
	  <footer class="well">
&copy; 2013 ALGIS LLC. С вопросами и предложениями обращайтесь по адресу <a href="mailto:mp@allgis.org?subject=miniportal">mp@allgis.org</a>
	  </footer>
	</div><!--/.fluid-container-->

<!--	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script> -->
	<script src="http://cgis.allgis.org/miniportal/bootstrap/js/bootstrap.min.js"></script> 

  </body>
</html>
